# 身份验证

## 重点

- cookie：前端 / session：后端



## 笔记

- cookie，在前端保存一些用户信息

- session，在后端保存一些用户信息，前端只能拿到sessionID

- 基于 cookie-session 的身份验证流程

    1. 前端发送登录信息

    2. 后端将登录信息（或者其他信息）创建成一个session（object），存入数据库

    3. 后端发送含有 sessionID 的响应内容给前端（以 cookie 的形式）

    4. 以后的请求，前端都会发送带有 sessionID 的请求

    5. 当前端发「登出请求」到后端，后端销毁 session，然后 set cookie 到前端 把前端 cookie 销毁

- 基于 token 的身份验证流程

    1. 前端发送登录信息

    2. 后端将登录信息（或者其他信息）生成一个 x-token

    3. 后端发送含有 x-token 的响应内容给前端，前端将 x-token 保存

    4. 以后的请求，前端都会发送带有 x-token 的请求

    5. 当前端发「登出请求」，前端销毁 x-token，然后按照正常方式请求
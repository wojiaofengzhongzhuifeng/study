2022.08.01 周一

### todo

- ✅ OKR
- 计划本 Q 
- 简单实施文档
- ✅ console 合规化
- ✅ 如何找到 cdn 资源对应的桶位置？

---

### 计划本 Q4

学会东西：

- 爬取评论能力
- sprintboot 后台管理系统

每周计划：

- 8 月第一周(W31)
  - 数据看板开发1/2
  - 【学习计划】简单的实施文档
  - 【学习计划】nest 增删改查，单表
  - 【学习计划】sprint boot 增删改查，单表
  - 【学习计划】准备 sprint boot 的开发
- 8 月第二周(W32)
  - 数据看板开发2/2
  - 【学习计划】看典型代码
  - 【学习计划】看典型代码
- 8 月第三周(W33)
  - 输出评论实施文档
  - 【学习计划】看典型代码
- 8 月第四周(W34)
  - 完成增删改查接口 1/2 
- 8 月第五周(W35)
  - 完成增删改查接口 2/2 
- 9 月第一周(W36)
  - 歌曲爬取 1/3 
- 9 月第二周(W37)
  - 歌曲爬取 2/3
- 9 月第三周(W38)
  - 歌曲爬取 3/3
  - 联通爬取和增删改查接口
    - 需要新增工作表，用于管理歌曲评论入库
    - 至少需要完成[第一个业务接口](https://docs.google.com/document/d/1J2RXijTApUWhImh_rHGaVxd4V20UxhgATAAd4ST0qnE/edit#heading=h.er7x4h8fh7fe)
- 9 月第四周(W39)
  - 前端开发 1/2
- 10 月第一周(W40)
  - 放假
- 10 月第二周(W41)
  - 前端开发 2/2
- 10 月第三周(W42)
  - 评论数据看板
- 10 月第四周(W43)

重要节点：

- 08.11 数据看板完成
- 08.18 评论实施文档
- 09.01 评论数据增删改查接口 （sprint boot）
- 09.15 爬取接口
- 09.22 爬虫 + 增删改查接口一起使用，跑出原数据
- 10.13 上线前端界面
- 10.20 or 10.27 上线评论的数据看板

问题：

- 典型代码推荐？

- 需要引入包的流程？

- 数据库，应该设计成单表还是多表？

  - 多表

    song_comment_map

    id / youtubeId / commentId / status

    comment

    id / likeNumber / username / avatarUrl

  - 单表

    song_comment

    id / youtubeId / status / likeNumber / username / avatar

- 如果新增字段，哪种表更好？



---

### 简单实施文档

https://docs.google.com/document/d/1J2RXijTApUWhImh_rHGaVxd4V20UxhgATAAd4ST0qnE/edit#heading=h.wu6l34v8tkr7



---



### 【新知识】如何找到 cdn 资源对应的桶位置？

- 需求：需要对官网图片进行替换

  ![image-20220801115133797](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220801115133797.png)

- 实现步骤

  - 复制域名

    static.snaptube.in

  - 在 https://us-east-1.console.aws.amazon.com/cloudfront/v3/home?region=us-east-1#/distributions 使用域名进行搜索，得到源

    ![image-20220801115249641](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220801115249641.png)

  - 复制源的部分内容

    us-east-web-static

    在 https://s3.console.aws.amazon.com/s3/buckets?region=us-east-1&region=us-east-1 进行搜索，得到桶

    ![image-20220801115348939](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220801115348939.png)

    

## 2022.08.01 周二

### todo

- ✅ 评论实施文档 、 【新思路】excel 模拟演示数据库 、 使用 nest 完成开发 1/2
- ✅ AUDIT_AFTER_EDIT 处理
- ✅ 上线权限
- ✅ 数据看板需求

---

### 评论实施文档 、 excel 模拟演示数据库 、 使用 nest 完成开发

- 【疑问】关系数据如何保存？

  - 一对多 => 使用外键关联，保存在多方
  - 多对多 => 使用中间表关联，保存在中间表

- 【疑问】评论需要接入包管理机制吗？

- 【疑问】java 调用爬虫接口，获取大量评论数据 1，将数据 1 入库，得到数据 2，数据 1 有没有可能比数据 2 少？需要记录？

- 【持续优化】后端写接口流程

  整个后端接口使用 try catch 包裹，通过抛出异常的方式解决异常情况

  - controller 获取请求参数
    - 校验请求参数：使用 DTO 数据校验请求参数是否符合预期
  - service 使用请求参数
  - 返回响应数据
    - 使用 VO 定义响应数据结构

- for 循环使用

  - 找到第一个不符合条件 i
  - i - 1

- 【疑问】VO 是什么？

  view object 表示返回给前端的数据结构定义

- nest 完成开发 commit message

  - 快速生成单表操作模板代码
  - typeorm 连接数据库
  - 使用 typeorm 操作数据库

- 【存疑】如何定义 nest 的 column status 为 enum ？

- 

---

### 数据看板需求

- 用户可以选择一个时间或者两个时间 + 任务类型  + 分区
-  选择一个时间 =》 查看时间的数据
  - 制作总量（累积量）
  - top 覆盖度（当周的情况）
  - excel 其他数据的情况，注意区分需要获取累计量还是当周量

- 

---

### 上线权限

- 7：30 上
- 出现问题两种解决方案
  - 联系超级管理员
  - 重新将包分配给相关的人

---

## 2022.08.03 周三

### todo

- nest 、 sprintboot 完成 comment  + commentTask 数据表的操作，一共完成 comment 增删改查 4 个接口
- ✅ andy 问题
- AUDIT_AFTER_EDIT  andy 
- 思考如何实现增量
- all hands
- 租房
- ~~andy 数据看板优化~~
- 数据看板第一期需求确定



---

### AUDIT_AFTER_EDIT  andy 

- 假设一个

---

### 思考如何实现增量

用户批量将yid 数据放到 commentTask 表，使用另一个服务不断查询 commentTask  表status === pending的数据，然后执行入库操作



---

### all hands

- 低垂果实



### 租房

- 租多久？
- 最重要不吵
- 位置关注下一家





---

### andy 数据看板优化

- 每日制作
- 分区歌曲，in ES there are 1000 songs, 10% pending, 20% pending audit, 70% done. 



---

### 数据看板第一期需求确定

---



### 2022.08.04 周四

### todo

- 用户维度 + 任务维度数据静态



---

### 用户维度 + 任务维度数据静态

- 数据可视化最大的工作量是转化数据

- user

  - 表格字段修改

    ![image-20220805152434688](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220805152434688.png)

  - 表格删除（选做）

  - 新增 增量 - 全量切换按钮

  - 新增两个时间段的差额比较

- cycle

  - 选择 3 个时间，全量是 3 个点，增量也是 3 个点，不是 2 个点
  - 表格 ，柱状图，折线图，饼图四种形式互相切换
  - 新增两个时间段的差额比较

- 用户选择第一个时间段

  - 展示所选时间段的全量数据 - 折线图（四图互相切换）

- 点击全量 - 增量切换按钮

  - 展示所选时间段的增量数据 - 折线图（四图互相切换）（x 轴数量全量与增量数据保持一致）

- 用户选择第二个时间段

  - 使用 xxxxx 图表展示两个时间段的差额



## 2022.08.08 周一

### 本周 todo

- 数据看板
- 异步任务笔记
- java 增删改查



---



### todo

- fb 下载站登录模块调研文档编写
- 完成数据看板的技术文档



### fb 下载站登录模块调研文档编写

- 这里的 cookie 是响应信息还是请求信息？

  ![image-20220808084837254](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220808084837254.png)

  

  ---

  ### 数据看板技术文档

  #### 按照任务纬度的数据看板

  - [需要用到的接口](https://www.apifox.cn/web/project/956493/apis/api-33071640)

  - 用户的操作

    - 选择第一个时间段（不一定要一个周期，可以选择任意两个时间点）
    - 选择任务类型（META, LYRIC, TAG）
    - 区域
    - top 周期（只能选择某个周五 + 周四周期数据）
    - 点击全量 - 增量切换按钮
    - 选择第二个时间段，**第二个时间段的长度需要和第二个时间段保持一致**，表现形式与第一个时间段保持一致

  - 常用周期

    - 最旧：2022-07-08 ~ 2022-07-14
    - 较旧：2022-07-15 ~ 2022-07-21
    - 最新：2022-07-22 ~ 2022-07-28

  - 用户的操作生成的请求参数示例

    - 示例：查询 08-06 单日相对于 07-22~07-28 最新周期
    - 示例：查询 08-06 单日相对于 07-15~07-21 较旧周期
    - 示例：查询 08-06~08-07 多日相对于 07-22~07-28 最新周期 
    - 示例：查询 08-06~08-07 多日相对于 07-15~07-21 较旧周期

  - 接口请求数据含义

    - ❌ 有可能 lang === ALL ，但是响应有值？

  - 接口响应数据含义

    - "crawlPreciseTotal": 5150, // 已经审核数据中的爬取准确总数， ❌为什么08-06 07-22（9010） 与 08-06 07-15（5150） 差这么多，【疑问】只有 meta 有？

    - "auditCrawlTotal": 5909,【疑问】只有 meta 有？

    - "crawlTotal": 6197, // 爬取成功总数 【疑问】meta 通过 top 数据得到；lyric 和 tag 爬取总数取决于 meta 制作量

    - "crawlPreciseRate": 0.87, // 爬取准确率

      crawlPreciseRate = crawlPreciseTotal / auditCrawlTotal

    - "crawlRate": 0.62,

      crawlRate = crawlTotal / taskTotal

  - 页面结构

    - searchForm
    - table 总数
    - 可视化图表
      - total 分发总数 + taskTotal 任务总数
      - crawlRate 爬取率 + crawlPreciseRate 爬取准确率
      - cannotTotal 不可制作总数
      - balance1Total 差额总量1 + balance2Total 差额总量2 

    





---

### 2022.08.09 周二 

### todo 

- 解决 andy 问题
- 完成任务维度数据看板
- 【学习】使用数据看板模块，总结模块书写顺序，写一个 demo

---

### 解决 andy 问题

- 希望能区分歌词制作任务「完全没有歌词」和「只需要检查时间轴是否正确」类型
  - 使用 https://www.apifox.cn/web/project/956493/apis/api-25817861 接口查询？
  - transcription 听写歌词 、 synchronization 同步时间轴
- 现在如何开展分工？下面二选一
  - 没有歌词，国外翻译；国内检查时间轴
  - 没有歌词，国外翻译；国外检查时间轴

---

### 完成任务维度数据看板

- 正在完成需求，突然需要修改 bug ，应该如何处理

- searchForm 添加条件，如何修改代码？

- 选择一个时间段 08-02~08-03，选择增量数据看板后，需要查询 08-01 ~ 08-03 数据，用什么方式请求08-01 数据合适？

  新增 dataMonitorMode state，在 convertFrontToBackSearchForm 时，当  dataMonitorMode  === 增量模式，startDate往前请求一天；convertBackToFrontTaskDataMonitorList 同样进行判断，为增量模式，将原数据进行一次计算。







### 2022.08.10 周三

### todo

- 完成任务维度的数据看板 、 修复任务维度的数据看板
- 完成人员维度的数据看板文档
- 整理异步任务的笔记
- 

---

### 完成任务维度的数据看板

- 数据管理常见需求

  现 state 保存 searchformObj，需要通过方式判断修改的是 searchformObj.a 还是 searchformObj.b 

- 数据管理常见需求、问题

  如果使用了 mobx 的 state 的组件，一定为这个组件包一层 observer ，不然 state 发生变化， 组件不会重新渲染

- 【确认】这三个数据没有展示，需要展示吗

  ![image-20220810143417973](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220810143417973.png)

- 【确认】两个时间段比较，还需要提供全量/增量数据吗？

- 【逻辑】防御性编程

  ```
  const searchForm = {
  	startEndDate: [{a: 1}, {a:2}] // 也有可能是[null, null]
  }
  当我直接读取 searchForm.startEndDate[0].a 时，是非常危险的，应该先进行判断
  ```

- 【修复】

  - 添加表格

    ~~除了差额量，其他都展示到表格，全量展示最后一天的数据；增量展示两个最后一天数据 + 相差数据~~

  - ~~rate 是百分数~~

    ![image-20220810151038214](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220810151038214.png)

  - ~~将 cannottotal 放入到第一个表~~

    - 显示累计
    - 鼠标移入，显示 cannototal
    - 一共四条线：25000，已经制作，无法制作，已经制作 + 无法制作，

  - ~~【核心流程】缺少lang === all  + 不选 cycle date 的情况~~

  - ~~lyric tag 没有这个表格~~

    ![image-20220810153400877](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220810153400877.png)

- 类型 、 全量 、 另一个时间

- 处理 containerMap变量 方式有没有改进空间？

- 表单验证

  ![image-20220810193435694](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220810193435694.png)

  需要保证选择的 select another time 的时间间隔与 select time 的时间间隔一致，如何解决？



---

### 2022.08.11 周四

### todo

- 完结任务维度细节
- lyric 添加新流程 - 将包回退
- 理解用户维度数据看板需求
- 完成用户维度数据看板



---

### 完结任务维度细节

- 如何写这个 ts ?

  ```
  export const langMap = {
    [Language.EN]: {
      'total': 'total'
    },
    [Language.CN]: {
      'total': '分发总数'
    }
  }
  // Language.EN 与 Language.CN 的 对象的 key 值完全一致（数量 + 值）
  ```

- 【todo】添加第四个权限，用于查看数据看板

- 【todo】培训视频 + 使用教程

- 【表单-数据管理常见 bug】在这个表单中，有一个表单验证判断：时间段 1 与时间段 2的时间区间需要保持一致

  ![image-20220811162302454](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220811162302454.png)

  我是通过以下的方式判断

  其中 value 是 mobx 的 store 的值，那么这样造成一个问题，如果我在页面加载时，默认选择时间段-1 1 天，那么我手动选择时间段-1 3 天；选择时间段-2 3 天，按照正常逻辑应该不会报错；但是实际就是报错了，原因是 value 的时间段-1 还是1天，只有点击 search 才会令 value 的时间段-1 为 3 天，这里的核心矛盾是：**我应该获取前端 form 的值，而不是存储在 store 的值** 这也是后台管理常见的需求

  ![image-20220811162426433](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220811162426433.png)

- 【ts 代码优化 ? 简化】

  ```
  const searchForm = {
  	startEndDate: [{a: 1}, {a:2}] // 也有可能是[null, null]
  }
  当我直接读取 searchForm.startEndDate[0].a 时，是非常危险的，应该先进行判断
  ```

---

### 理解用户维度数据看板需求

- 页面结构

  - searchForm

    - 用户名 —— 精确搜索

      展示所有用户名

    - 任务类型 

    - 时间区间

    - 区域

  - 操作

    - 【核心】切换全量 、 增量

  - 全量模式

    - table1 时间段内的制作结果 【store-keyname】dateRangeResult 

      - intervalMakeTotal 

        时间段制作总数，当前用户作为制作人制作完成的总数「审核通过及之后的状态」

      - intervalNoFailTotal

        时间段制作成功中未失败过的总数，当前用户作为制作人制作完成切未被审核不通过的总数「审核通过及之后的状态」

      - intervalMakeCorrectRate

        时间段制作正确率, intervalNoFailTotal / intervalMakeTotal

    - table2 累计制作结果  【store-keyname】totalResult

      - auditTotal 

        审核总数，当前用户作为审核人审核的总数「审核通过和审核不通过及之后的状态」

      - cannotTotal

        不可制作总数，当前用户作为制作人标记不可制作的总数，只有 meta 类型有

      - makeTotal

        当前用户作为制作人制作完成的总数「审核通过及之后的状态」

      - noFailTotal

        历史累积制作成功中未失败过的总数，当前用户作为制作人制作完成切未被审核不通过的总数「审核通过及之后的状态」

      - makeCorrectRate

        历史累积制作正确率, noFailTotal / makeTotal

    - echarts  【store-keyname】everyDayTotalResult

      - auditTotal
      - cannotTotal
      - makeTotal
      - noFailTotal
      - makeCorrectRate

  - 增量模式

    - 没有 table
    - echarts 【store-keyname】everyDayAddResult
      - dateMakeTotal
      - dateNoFailTotal
      - dateMakeCorrectRate

- 【数据管理常见需求】computed value

  这样管理数据是否更好？

  - 之前
    - 请求数据完毕后，通过 convertBackToFrontData 将后端数据转化为前端数据
  - 之后
    - 原封不动将请求得来的数据放到 state中，convertBackToFrontData  则通过 computed value 的方式得到前端数据

---

### 文档

- 背景
- 结论 or 总结

写文档核心：**背景和（结论 or 总结）放最前面，详细的放后面**

---



### 2022.08.12 周五

- andy 问题反馈
- 理解新流程
- google sheet 打标取消
- 测试用户维度

---

### andy 问题反馈

- 没有 mena 和 es 的任务



---

### 理解新流程 + 下周培训流程



- 在 lyric/task-do-list 和歌词制作工具新增三个按钮
  - 标记歌词查找状态（标记人工是否能找到，且人工都无法找到歌词的情况下才标记）
  - 标记歌词查找状态（标记人工是否能找到，且人工都无法找到歌词的情况下才标记） + 将歌曲从包内删除
  - 标记歌词爬取质量状态
- 中国员工才有这两个按钮？都有
- ~~根据歌曲与歌词的实际情况分别点击这两个按钮~~
  - ~~情况 1：当机器 or 人工找到歌词，调用「标记歌词爬取质量状态」，不调用「标记歌词查找状态」~~
  - ~~情况 2：当机器 or 人工无法找到歌词，不调用「标记歌词爬取质量状态」，调用「标记歌词查找状态」~~





- 中国工作人员打包，只打机器爬取有歌词的歌曲包？ => 不是 ，不区分条件，直接打
- 区分非中国 + 中国员工？

- 接口 1： 爬取歌词状态(人工标记歌词质量)

  - SONG_WRONG : 爬取歌词和歌曲不对应 => 中国人员找，实在找不到就调用「标记歌词查找状态」接口
  - LYRIC_TEXT_WRONG : 爬取的歌曲文本有偏差「文本正确率 < 90%」
  - TIMER_SHAFT_WRONG : 爬取的歌词文本正确「文本正确率 > 90%」, 但时间轴不对
  - ARTIFICIAL_FIND : 爬取失败,但网上可以找到 => 中国人员找，然后做
  - EXACTLY : 完全正确

- 接口 2： 查找歌词状态（歌词能否找到）指的是机器还是人工？ => 人工

  - NOT_FOUND: 找不到歌词, 需要人工听写
  - FOUND: 找的到歌词 在前端不会调用这个参数

  ![image-20220812105936447](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220812105936447.png)

- 情况汇总， 从好到不好

  - 歌词正常

    爬取歌词状态 === EXACTLY  、 查找歌词状态 === FOUND 、 中国人员制作

  - 歌词有部分错误

    - 文本大部分正确 + 时间轴小部分错误

      爬取歌词状态 === TIMER_SHAFT_WRONG 、~~查找歌词状态 === FOUND（不用特地调用）~~、中国人员制作

    - 文本错误较多

      爬取歌词状态 === LYRIC_TEXT_WRONG 、~~查找歌词状态 === FOUND（不用特地调用）~~、中国人员修改歌词 + 制作

  - 歌词和歌曲对应不上

    爬取歌词状态 === SONG_WRONG 、 查找歌词状态 === FOUND or NOFOUND （如果能找到，则不用特地调用；如果找不到，则调用查找歌词状态 === NOFOUND）、中国人员找歌词，找不到将歌曲放回 pool

  - 机器无法找到歌词，制作工具显示为空

    不需要标记爬取歌词状态、查找歌词状态 === FOUND or NOFOUND （如果能找到，则不用特地调用；如果找不到，则调用查找歌词状态 === NOFOUND）、中国人员找歌词，找不到将歌曲放回 pool

  

  ---

  ### 简要 todo

  - 用户看板
    - 全量直接展示所有 list
    - 增量取前一天，然后相减
    - talbe column 需要调整
    - 可以多选多个用户
  - 新流程
    - 在歌词制作工具 + 后台管理系统添加三个按钮

  

  ---

  ### 2022.08.13

  ### todo

  - 用户维度
  - 新流程
  - 

  ```
    const initFullEchartsConfigs = ()=>{
      const auditTotalSeriesConfig: EchartsStackConfig = {
        name: auditTotal,
        type: 'line',
        data: []
      }
      const cannotTotalSeriesConfig: EchartsStackConfig = {
        name: cannotTotal,
        type: 'line',
        data: []
      }
      const makeTotalSeriesConfig: EchartsStackConfig = {
        name: makeTotal,
        type: 'line',
        data: []
      }
      const noFailTotalSeriesConfig: EchartsStackConfig = {
        name: noFailTotal,
        type: 'line',
        data: []
      }
      const makeCorrectRateSeriesConfig: EchartsStackConfig = {
        name: makeCorrectRate,
        type: 'line',
        data: []
      }
  
      const xAxisDataList = everyDayTotalResult.map((everyDayTotalResult)=>{
        auditTotalSeriesConfig.data.push(everyDayTotalResult.auditTotal)
        cannotTotalSeriesConfig.data.push(everyDayTotalResult.cannotTotal)
        makeTotalSeriesConfig.data.push(everyDayTotalResult.makeTotal)
        noFailTotalSeriesConfig.data.push(everyDayTotalResult.noFailTotal)
        makeCorrectRateSeriesConfig.data.push(everyDayTotalResult.makeCorrectRate)
  
  
        return everyDayTotalResult.date
      })
      if(xAxisDataList.length === 0){
        removeAllEcharts()
        return
      }
      // 分发任务 + 任务总数 数据看板
      initEchartsConfig({
        containerId: 'auditTotal',
        title: auditTotal,
        xAxisDataList: xAxisDataList,
        series: [auditTotalSeriesConfig]
      })
      initEchartsConfig({
        containerId: 'cannotTotal',
        title: cannotTotal,
        xAxisDataList: xAxisDataList,
        series: [cannotTotalSeriesConfig]
      })
      initEchartsConfig({
        containerId: 'makeTotal',
        title: makeTotal,
        xAxisDataList: xAxisDataList,
        series: [makeTotalSeriesConfig]
      })
      initEchartsConfig({
        containerId: 'noFailTotal',
        title: noFailTotal,
        xAxisDataList: xAxisDataList,
        series: [noFailTotalSeriesConfig]
      })
      initEchartsConfig({
        containerId: 'makeCorrectRate',
        title: makeCorrectRate,
        xAxisDataList: xAxisDataList,
        series: [makeCorrectRateSeriesConfig]
      })
    }
    
    
            <div style={cardStyle}>
            <Row>
              <Col span={24}>
                <div id='makeSuccessTotal' style={{height: '500px'}}/>
              </Col>
            </Row>
            <Row>
              <Col span={24}>
                <div id='makeTotal' style={{height: '500px'}}/>
              </Col>
            </Row>
            <Row>
              <Col span={24}>
                <div id='auditTotal' style={{height: '500px'}}/>
              </Col>
            </Row>
            <Row>
              <Col span={24}>
                <div id='makeCorrectRate' style={{height: '500px'}}/>
              </Col>
            </Row>
            {
              isMetaTaskType ? (
                <Row>
                  <Col span={24}>
                    <div id='cannotTotal' style={{height: '500px'}}/>
                  </Col>
                </Row>
              ) : null
            }
            <Row>
              <Col span={24}>
                <div id='noFailTotal' style={{height: '500px'}}/>
              </Col>
            </Row>
  
            <Row>
              <Col span={24}>
                <div id='dateMakeTotal' style={{height: '500px'}}/>
              </Col>
            </Row>
  
            <Row>
              <Col span={24}>
                <div id='dateNoFailTotal' style={{height: '500px'}}/>
              </Col>
            </Row>
  
            <Row>
              <Col span={24}>
                <div id='dateMakeCorrectRate' style={{height: '500px'}}/>
              </Col>
            </Row>
            
          </div>
  ```





---

### 2022.08.15 周一

### 周 todo

- 沟通国内外制作人员新流程
2. andy数据看版
3. 评论技术td
4. 优化后台管理
5. seo需求
6. logan修复
6. 【学习】异步编程

### 周一 todo

- 沟通国内外制作人员新流程、让制作人员开始测试
- 完成 Andy 数据看版技术 td

### 周二 todo

- 完成 Andy 数据看板需求
- 评论技术td初版
- 完成这个优化 https://docs.google.com/spreadsheets/d/1JQYlSMjjqnR58Bnw52GdE6mV5NrBdq47iFtshBGwXz4/edit#gid=0&range=14:14

### 周三 todo

- 开会，集中解决国内制作人员流程问题

- 开会，完成评论技术 td 初审

- 修改评论技术 td 文档

- 开始处理 seo sre 方面

  https://docs.google.com/spreadsheets/d/1jcTdVLNCeO3opwyPlqTVOPa8ayefanZO8PeRmGjktjI/edit#gid=0

  

### 周四 todo

- 开始处理 seo sre 方面

  https://docs.google.com/spreadsheets/d/1jcTdVLNCeO3opwyPlqTVOPa8ayefanZO8PeRmGjktjI/edit#gid=0



### 周五 todo

- 优化后台管理，能做多少做多少

---

### git

- 如何同时拉取 master staging？

  【需要确定】git pull --all 

---

### andy gab 数据看板简单 TD

原文：

@Frank Rao饶家俊 Yes, I have Frank!
1. Another request (this is an idea from Gab that would help our work and organization a lot): to have a chart in the Console that shows **how many % of the total songs for each region** have already been done and how many % are still to be done.
  For example: in PT there are 300 songs, of which 50% is pending, 50% is done. The chart would show these numbers.
  Another example: in ES there are 1000 songs, 10% pending, 20% pending audit, 70% done. Then we would know how many songs still need an editor, how many need audition and how many are done. 
  Like this:

  ![image-20220815191214356](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220815191214356.png)

2. 总结：在lyric management 展示所选周期 + 所选区域的制作情况，需要展示以下数据

   1. 所选区域总数

      ![image-20220815193714671](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220815193714671.png)

   2. 未开始：包括为分配制作人，分配制作人未开始工作

      ![image-20220815193830429](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220815193830429.png)

   3. 正在制作

   4. 正在审核

   5. 完成

【确定】ALL status 的含义

- PENDING ：只要有 submit ，就不算 PENDING
- MAKE_IN ： 正在制作？
- MAKE_SUCCESS ： 制作人员点击 mark as done？
- AUDIT_IN：
- AUDIT_REJECT
- AUDIT_PASS
- AUDIT_AFTER_EDIT
- SYNC_SUCCESS



---




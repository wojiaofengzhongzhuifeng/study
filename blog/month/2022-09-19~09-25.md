## æœ¬å‘¨ todo

- è‹±æ–‡èµ„æ–™
- å·¥ä½œå†…å®¹
  - ç†æ¸…æ›²åº“ meta å’Œ lyricæµç¨‹
  - å­¦ä¼š cypress 
- å­¦ä¹ å†…å®¹

---

## 2022.09.19

### ã€æŒç»­è§£å†³ã€‘ç–‘é—®ï¼šé‡åˆ° youtube è§†é¢‘ä¸‹çº¿(ä¸å¯åˆ¶ä½œ)ï¼Œåº”è¯¥å¦‚ä½•åœ¨ç®¡ç†å¹³å°æ“ä½œ

- ã€todoã€‘æ“ä½œï¼Œéœ€è¦å…¨æµç¨‹

- æœŸå¾…ç»“æœ

  ã€ç–‘é—®ï¼Œéœ€è¦ç¡®å®šã€‘å¦‚æœæ˜¯ä¸å¯åˆ¶ä½œï¼Œä¸åº”è¯¥ä½œä¸ºç»“ç®—æ•°é‡ï¼Ÿ

- lyric æ ‡è®°ä¸ºä¸å¯åˆ¶ä½œåï¼Œä¼šæŠŠä»»åŠ¡ä»åŒ…å†…ç§»é™¤å—ï¼Ÿä¼š

- ã€ç–‘é—®ã€‘lyric æ ‡è®°ä¸ºä¸å¯åˆ¶ä½œåï¼Œè¿™ä¸ªä»»åŠ¡çš„æ•°æ®ç»Ÿè®¡åˆ¶ä½œäººæ˜¯è°ï¼Ÿ

  ä¸ç®¡æ˜¯è°ï¼Œéƒ½æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºç»Ÿè®¡ lyric åˆ¶ä½œæ•°é‡ï¼Œä¸ä¼šæŠŠä¸å¯åˆ¶ä½œåŠ ä¸Š

---

### ã€æŒç»­è§£å†³ã€‘ç–‘é—®ï¼šå½“éŸ³ä¹æ˜¯çº¯éŸ³ä¹ï¼Œåº”è¯¥å¦‚ä½•åœ¨ç®¡ç†å¹³å°æ“ä½œ

- æ“ä½œ
  - å°†çº¯éŸ³ä¹ä»»åŠ¡è®¤ä¸ºæ˜¯æ™®é€šä»»åŠ¡ï¼Œæ­£å¸¸æ‰§è¡Œä»»åŠ¡åˆ¶ä½œ ä»»åŠ¡å®¡æ ¸æµç¨‹
  - éœ€è¦æ–°å¢æŒ‰é’®ï¼Œæ ‡æ³¨ä¸ºçº¯éŸ³ä¹ï¼Ÿ
  - æ•°æ®ç»Ÿè®¡çš„æ—¶å€™ï¼Œç”¨æˆ·ç»´åº¦æ¥å£ä¸ç»Ÿè®¡ intervalMakeTotal  æ ‡æ³¨ä¸ºçº¯éŸ³ä¹çš„ä»»åŠ¡

- æœŸå¾…ç»“æœ

  å¦‚æœæ˜¯çº¯éŸ³ä¹ï¼Œä¸åº”è¯¥ä½œä¸ºç»“ç®—æ•°é‡

  ![image-20220919102643777](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919102643777.png)

---

### å·¥å…·ä¼˜åŒ–ï¼štypora ä½¿ç”¨ alt + ` é”®åˆ‡æ¢ä¸åŒæ–‡ç« 

---

### å·¥å…·ä¼˜åŒ–ï¼šå¤åˆ¶ + ç²˜è´´çš„æ—¶å€™ï¼Œç»Ÿä¸€å¤„ç†æ–‡æœ¬å†…å®¹

![image-20220919145303136](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919145303136.png)

---

### ã€æŒç»­è§£å†³ã€‘åŠŸèƒ½ï¼šè§£å†³ andy æå‡ºé—®é¢˜

- åŸé—®é¢˜å¦‚ä¸‹

  > Hey Frank, I did a survey of songs recorded as made by freelancers and what the console recorded as made by them and there is still a discrepancy between the numbers https://docs.google.com/spreadsheets/d/1ZYfm5MWZjSNhYtGh8QnEVEn5lGwYzxMXQIsSMhEPI1g/edit#gid=1887695255
  > We ask the freelancers to record the lyrics links made by them on the day, so we can check which songs they actually edited. I noticed that many of the songs they edited had the last edit date and time different from what they actually did. 
  > For example, in this song ( https://lyric-marker.larkplayer.com/v2LyricMakerVid?vid=Jsxy3UyBq90 ) it appears that the last edition of the freelancer was on 2022-09-11 23:08:37, however, she guarantees that she did not work on the 11th, she only worked until the 10th, approximately at 11:00PM she stopped working. That is, the date and time that the Console recorded is apparently wrong. 
  > Can you check what might be going on, please? Why do we still have these discrepancies?

  > @Frank Raoé¥¶å®¶ä¿Š Frank, did you fix the problem on the entire Console or just this song specifically? I believe the User Data Monitor was not fixed because I have now checked again in User Data Monitor all the songs made by this freelancer (who made the song I sent as an example) and the total numbers of songs made are still the same as I checked on Monday.
  > Even though you changed the song to 09-10 , not 09-1, the total number of songs made on the 10th and 11th in the User Data Monitor remains the same as it was on Monday.

  ![image-20220919151026486](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919151026486.png)

- è¿›åº¦

  - å‘¨ä¸€

    å…ˆè·å–å…·ä½“åˆ¶ä½œçš„ youtubeid

---

### âœ… åŠŸèƒ½ï¼šå‘ŠçŸ¥ Andy å¦‚ä½•ä½¿ç”¨ console ä»»åŠ¡ç»´åº¦æ•°æ®çœ‹æ¿

![image-20220919165416165](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919165416165.png)

![image-20220919165840657](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919165840657.png)

![image-20220919165903840](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919165903840.png)

---

### âœ… åŠŸèƒ½ï¼š å‘ŠçŸ¥ Andy å¦‚ä½•ä½¿ç”¨ console äººå‘˜ç»´åº¦æ•°æ®çœ‹æ¿

![image-20220919162538649](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919162538649.png)

![image-20220919162600909](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919162600909.png)

![image-20220919162634700](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220919162634700.png)

æ¯”è¾ƒé‡è¦çš„æ•°æ®æ˜¯

- æ—¶é—´æ®µå†…åˆ¶ä½œæ€»æ•° ã€ intervalMakeTotal ã€ Total Production Number
- æ—¶é—´æ®µå†…æ ‡è®°ä¸å¯åˆ¶ä½œæ€»æ•° ã€ intervalCannotTotal ã€ mark as not found number this period

ä½¿ç”¨æ–¹å¼

- è®¡ç®— meta åˆ¶ä½œ

  æ—¶é—´æ®µå†…åˆ¶ä½œæ€»æ•° + æ—¶é—´æ®µå†…æ ‡è®°ä¸å¯åˆ¶ä½œæ€»æ•°

- è®¡ç®— lyric åˆ¶ä½œ

  æ—¶é—´æ®µå†…åˆ¶ä½œæ€»æ•°

---

### âœ… åŠŸèƒ½ï¼šè§£å†³ andy packageid 109 ä¸ºä»€ä¹ˆä¼šæœ‰ 176 é¦–æ­Œæ›²çš„é—®é¢˜

æ˜¯ä¸€ä¸ªå‰ç«¯çš„ bug ï¼Œåº”è¯¥æ ¹æ® packId æŸ¥è¯¢å‚æ•°ï¼ŒæŸ¥è¯¢ä»»åŠ¡ï¼Œè€Œä¸æ˜¯ packName

---

### ä¿®å¤ bugï¼šè§£å†³Andy æå‡ºçš„é—®é¢˜

https://docs.google.com/spreadsheets/d/1JQYlSMjjqnR58Bnw52GdE6mV5NrBdq47iFtshBGwXz4/edit#gid=0&range=40:40

---

### âœ… åŠŸèƒ½ï¼šå…è®¸è¿½åŠ ä¸åŒå‘¨æœŸ + åœ°åŒºçš„ä»»åŠ¡åˆ°åŒ…ä¸­

---

### åŠŸèƒ½ï¼šå¯¹åŒ…å†…çš„ä»»åŠ¡è¿›è¡Œè¿‡æ»¤ï¼Œè¿‡æ»¤æ‰å®¡æ ¸äººä¿®æ”¹è¿‡çš„ä»»åŠ¡

å½“ auditor === editor  && auditor !== SYSTEM

---

### ã€æŒç»­è§£å†³ã€‘åŠŸèƒ½ï¼šè§£å†³æ•°æ®ç»Ÿè®¡çš„é—®é¢˜

ä» andy æä¾›çš„äººå·¥ç»Ÿè®¡æ•°é‡[æ±‡æ€»](https://docs.google.com/spreadsheets/d/1ZYfm5MWZjSNhYtGh8QnEVEn5lGwYzxMXQIsSMhEPI1g/edit#gid=1887695255)ï¼Œåˆ†åˆ«é€‰å–ä»¥ä¸‹å››ç±»æ•°æ®

- meta
  - console å¤šç»Ÿè®¡
  - console å°‘ç»Ÿè®¡
- lyrlc
  - console å¤šç»Ÿè®¡
  - console å°‘ç»Ÿè®¡

---

## 2022.09.20

### ğŸ”´ ä¸å¯åˆ¶ä½œ + çº¯éŸ³ä¹

- ä¸å¯åˆ¶ä½œ

  - å®¡æ ¸

    ä¸€æ—¦æ ‡è®°ä¸ºä¸å¯åˆ¶ä½œï¼Œè¿™ä¸ªä»»åŠ¡ä¼šä»åŒ…å†…åˆ é™¤ï¼Œä¸ä¼šèµ°åˆ°å®¡æ ¸æµç¨‹

  - åˆ†å‘

    ã€éœ€è¦ç¡®å®šã€‘ä¸å¯åˆ¶ä½œä¸åº”è¯¥è¢«åˆ†å‘

  - ğŸ”´ æ•°æ®ç»Ÿè®¡

    éœ€è¦ç»Ÿè®¡åˆ°ä»»åŠ¡ç»´åº¦çš„cannotTotal

    éœ€è¦ç»Ÿè®¡åˆ°ç”¨æˆ·ç»´åº¦çš„ intervalMakeTotal cannotTotal ï¼Ÿ

- çº¯éŸ³ä¹

  - é¦–å…ˆå’Œ mana ç¡®è®¤ï¼šçº¯éŸ³ä¹åœ¨å®¢æˆ·ç«¯çš„å±•ç¤ºå½¢æ€åº”è¯¥æ˜¯ä»€ä¹ˆï¼Ÿ

    åº”è¯¥æ˜¯å±•ç¤ºâ€this is Pure musicxxxxâ€œ

  - åˆ¶ä½œ

    æŒ‰ç…§æ­£å¸¸æ­Œæ›²è¿›è¡Œåˆ¶ä½œå³å¯ï¼Œåœ¨æ­Œè¯åˆ¶ä½œå·¥å…·ä¸­ï¼Œéœ€è¦é¢å¤–æ ‡è®°ä»»åŠ¡æ˜¯çº¯éŸ³ä¹

  - å®¡æ ¸

    æ­£å¸¸å®¡æ ¸

  - åˆ†å‘

    æ­£å¸¸åˆ†å‘

  - ğŸ”´æ•°æ®ç»Ÿè®¡

    ä¸éœ€è¦ç»Ÿè®¡åˆ°ä»»åŠ¡ç»´åº¦åˆ¶ä½œæˆåŠŸå’Œå®¡æ ¸æˆåŠŸ

    ä¸éœ€è¦ç»Ÿè®¡åˆ°ç”¨æˆ·ç»´åº¦åˆ¶ä½œæˆåŠŸå’Œå®¡æ ¸æˆåŠŸ

    æ˜¯å¦éœ€è¦æ–°å¢ä¸€ä¸ªç»Ÿè®¡å­—æ®µï¼Ÿ

---

### ğŸŸ¢ ä¸å¯åˆ¶ä½œæµç¨‹

- raojiajun å°† 16 é¦–æ­Œæ›²åˆ†æˆä¸€ä¸ªåŒ…ï¼Œå¹¶ä¸”åˆ†é…ç»™åˆ¶ä½œäºº raojiajun222@gmail.com ï¼Œå®¡æ ¸äºº raojiajun@gmail.com

- å¾ˆæœ‰å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šåˆ¶ä½œäººå‘ç°ä¸å¯åˆ¶ä½œï¼Œå‘ŠçŸ¥ super æƒé™ç”¨æˆ·ï¼Œç”± super æƒé™ç”¨æˆ·æ ‡è®°ä¸å¯åˆ¶ä½œï¼Œæ ‡è®°å®Œæ¯•ä¹‹åï¼Œä»»åŠ¡ä¼šä»åŒ…å†…ç§»é™¤

- åˆ¶ä½œäººç»§ç»­åšå…¶ä»–ä»»åŠ¡å³å¯

- ã€todoã€‘

  - ä¸ Andy ç¡®å®šï¼š ç¡®å®šæµç¨‹æ˜¯å¦å’Œé¢„æœŸä¸€è‡´

    ä¸€è‡´

  - ğŸŸ¢  åç«¯æ–°å¢è¶…çº§è´¦å· + ğŸŸ¢ å‰ç«¯æ–°å¢è¶…çº§è´¦å·

  - staging æµ‹è¯•æµç¨‹

  - ç¡®å®šæ•°æ®ç»Ÿè®¡ï¼Œè¿™ä¸ªä¸å¯åˆ¶ä½œçš„ä»»åŠ¡æ˜¯å¦ä¼šè¢«ç»Ÿè®¡ï¼ŸæœŸå¾…ä¸ä¼š

---

### ğŸ”µ è§£å†³æ•°æ®ç»Ÿè®¡é—®é¢˜

- æ—§æ€è·¯

  https://docs.google.com/document/d/1JC9R2KFKFBJHHsABD1D7JbWpHZcVOlDCiGKWDgU3tyE/edit#

- æ–°æ€è·¯

  æ–°å¢é¡µé¢

- user-latitude æ¥å£è¿”å›çš„ intervalMakeTotal çš„è®¡ç®—æ–¹å¼

   - start end time

     ```
     String start = dto.getStartDate() + " 00:00:00";
     String end = dto.getEndDate() + " 24:00:00";
     ```

   - tagä»»åŠ¡

     ```
     query.select.apply("IFNULL(count(*),0) as intervalMakeTotal, "
             + "IFNULL(sum(case when auditRejectNum = 0 then 1 else 0 end),0) "
             + "as intervalNoFailTotal")
         .end();
     query.where.makeUser().eq(dto.getUserName()).status().in(auditPassStatus)
         .makeSuccessTime().gt(start).makeSuccessTime().lt(end).end();
     ```

   - meta ä»»åŠ¡

     ```
     query.select.apply("IFNULL(count(*),0) as intervalMakeTotal, "
     + "IFNULL(sum(case when auditRejectNum = 0 then 1 else 0 end),0) "
     + "as intervalNoFailTotal")
     .end();
     query.where.makeUser().eq(dto.getUserName()).status().in(auditPassStatus)
     .makeSuccessTime().gt(start).makeSuccessTime().lt(end).end();
     ```

   - lyric ä»»åŠ¡

     ```
         LyricMapSeedQuery query = new LyricMapSeedQuery();
         query.select.apply("IFNULL(count(*),0) as intervalMakeTotal, "
                 + "IFNULL(sum(case when auditRejectNum = 0 then 1 else 0 end),0) "
                 + "as intervalNoFailTotal")
             .end();
         query.where.makeUser().eq(dto.getUserName())
             .auditStatus().in(QueryUtils.auditPassStatusLyric)
             .makeSuccessTime().gt(start).makeSuccessTime().lt(end).end();
     ```

- todo

  - åç«¯æ¥å£ page-lyric æ¥å£æ–°å¢ makeSuccessTimeå­—æ®µ
  - å‰ç«¯æ–°å¢é¡µé¢
    - /lyric-result-list
    - /meta-result-list
    - /tag-result-list
  - æ–°å¢é¡µé¢ä½¿ç”¨ page-lyric è¿”å›æ•°æ®åï¼Œä½¿ç”¨ä¸‰ä¸ªè¿‡æ»¤æ¡ä»¶è¿›è¡Œè¿‡æ»¤å¾—åˆ°æ•°æ®

---

### ğŸ”´ åŒ…å®¡æ ¸ä¸é€šè¿‡æµç¨‹

---

### ğŸŸ¢ å·¥å…·ä¼˜åŒ–ï¼šå¤åˆ¶æ¨¡å—

è¢«å¤åˆ¶ lyricManagement æ¨¡å— 

æ–°æ¨¡å— taskResultList

- lyricManagement  æ‰€æœ‰æƒ…å†µï¼šlyricManagement ã€LyricManagement 
- åœ¨ taskResultList å…¨å±€æ›¿æ¢ lyricManagement LyricManagement  =ã€‹taskResultList TaskResultList
- é€‰æ‹© match case

---








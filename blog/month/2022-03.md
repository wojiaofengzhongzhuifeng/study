## 本月新东西



## 2022.03.03

### 如何发布 springboot 后端服务?

---



### 无法连接 staging 环境数据库?



---



### 看 zhichen 的 commit 看下有什么新收获



---



### python 处理

- 需要处理的 case 
  https://docs.google.com/document/d/1ZYVfthAgAWmdvBAF4PAqtdawLUFiAspQVER5znE_3Ek/edit#heading=h.97fzulrhzifg



---

### 本地搭建开发环境



## 2022.03.02

### 测试结果

- trackId 有重复
  444	5605365	0	2022-03-04 08:42:46.000000	SYSTEM	iZq0u3quAqo	444	2022-03-04 08:42:46.000000	100000000052411008  (500 错误)
- trackId 存在
  826	5655013	0	2022-03-04 08:42:46.000000	SYSTEM	6swmTBVI83k	826	2022-03-04 08:42:46.000000	100000000052934000
- trackId 不存在
  374	5604693	0	2022-03-04 08:42:46.000000	SYSTEM	Nj_VnWf6OPM	374	2022-03-04 08:42:46.000000	14



### proud by 

## 2022.03.01

### 解决「如果没有数据,会报 500 」

分别请求 http://localhost:9090/matrix-music-content-server/v1/lrc-lyrics/id?id=5597613
分别请求 http://localhost:9090/matrix-music-content-server/v1/lrc-lyrics/id?id=5602562 

![image-20220301161104273](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220301161104273.png)

发现562 会报 500, 需要解决这个问题

---

### LRCLyric表的数据注入思路



---

### 数据导入的问题

- NewLyricMap 表需要填入 trackId 字段

- 根据 youtube-id 在 SongMap 找, 数量对不上
  ![image-20220301172311831](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220301172311831.png)

- trackId 是错误的-  情况 1

  - 错误 vid youtube-_3z3P_kIkjU
  - 使用 这个 vid 在 songMap 找到 trackId 100000000047741390
  - 使用接口查询 100000000047741390 的数据
    http://api.larkplayerapp.com/ms-song-query-server/v1/song-items/memory/id?id=100000000047741390

- trackId 有些是错误的- 情况 2

  错误 vid youtube-zySXvH5BZqs
  ![image-20220301175632949](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220301175632949.png)
  http://api.larkplayerapp.com/ms-song-query-server/v1/song-items/memory/id?id=100000000062925950
  ![image-20220301175701552](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220301175701552.png)

- - 




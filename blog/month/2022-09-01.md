## 2022.09.01 周四

### todo

- 完善研发环境
- 使用包的接口，检查查询参数是否正确，检查是否展示足够的数据
- status 状态显示

---

### 完善研发环境

- 本地开发，不接入 auth0

  - 现象

    访问 http://localhost:3041/meta/batch-distribution， 结果重定向到 http://localhost:3041/login 现在想把这个重定向的代码在开发环境取消生效

  - 原因

  - 解决方法

- 解决 console 行数错误问题

---

### lyric batch management 新增 Drawer 抽屉组件

- 可以跨页选择歌曲

---

### 后台管理系统 - 包新增歌曲总数

- 需要根据 list 生成多个 promise ， 注意与 pormise + 判断区分

---

### 页面设置 no-index 响应 header

```
<meta name="robots" content="noindex,nofollow" />
```

```
add_header X-Robots-Tag "noindex, nofollow" always; 
```

php url 包含 xxx

https://gitlab.mobiuspace.net/mobiuspace/fe-team/wordpress-eks/-/blob/master/wordpress/wp-content/themes/dywx/header.php#L10

---

### 处理react 重复错误

```
Warning: Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
```

新增 alias

```
alias: {
  react: path.resolve('./node_modules/react')
}
```

---

## 2022.09.02 周五

### todo

- 

---

### wordpress php 

- 获取当前 url

```
$url = get_site_url();
访问 https://www.snaptubear.com/faq/， $url = https://www.snaptubear.com/faq/
访问 https://www.snaptubear.com/faq/2022/08/18/hello-world/ ，https://www.snaptubear.com/faq/
```

- 获取域名 url

---

### 周小结

- 
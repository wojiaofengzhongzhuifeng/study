## 2022.08.23 todo

- 生成auditor 不正常的表格
- 【插入】user 数据监控任何人都可以查
- 【插入】临时新增 excel ，用于管理制作完成 = 审核拒绝
- 【插入】andy 账号登录问题
- ❌logan
- ✅SEO 完结
- 【不重要，先不处理】完成优化建议第三 ~ 九点

---

### 生成auditor 不正常的表格

- https://docs.google.com/spreadsheets/d/1ZGbGWfvVfrSSPcD1f9c8s8nLmfeRz8KSwSMe-zqCvrM/edit#gid=0
- 弄好了，但是mana 没有使用，

---

### 【插入】user 数据监控任何人都可以查

- 现在事情太多太杂，可能有遗漏，怎么办？

---

### logan

- 目前核心流程

  - 客户端调用 https://api.larkplayerapp.com/prod/logan/upload node 接口，上传 mp3 文件
  - serverless 将文件转化为 base 64 读流
  - 调用 http://api.larkplayerapp.com/ms-logan-uploader/upload java 服务
  - 将 java 返回的数据（originKey，decodeKey）写入到数据库

- 疑问

  - 文件大小限制是第二步还是第三步？

    直接拿上传失败的文件，调用http://api.larkplayerapp.com/ms-logan-uploader/upload 看看有没有报错

    https://api.larkplayerapp.com/prod/logan/upload

    结果：第二步错误，同样文件，上传 java 服务没问题；上传 node 服务有问题

  - 【todo】测试环境如何跑通

  - 【todo】上传的文件，在哪个地方被转化为 base64

    ![image-20220823160240336](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220823160240336.png)

    ![image-20220823160339368](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220823160339368.png)

    

- 【迭代，接手新项目】

  - 如何本地启动
  - 如何发布不同环境，不同环境的访问路径？
    - 正式环境
    - 测试环境
    - 其他环境
  - 

- 【笔记系统 - md流程图语法】https://mermaid-js.github.io/mermaid/#/



---

### 【插入】临时新增 excel ，用于管理制作完成 = 审核拒绝

- 流程

  - 共有 1，2，3，4，5 包
  - andy 认为 2 ，4 包有问题
  - andy 在群上通知我们
  - 我们在群上通知国内兼职
  - 国内兼职重新修改，我们再次通知 andy
  - andy 认为通过，删除

- andy 要做的事情

  - 核心：保证 excel - 2 没有内容

    - 当有包 reject

      excel -1 新增数据

    - 当包通过 audit

      excel - 2删除数据

    - 当包再次 reject

      将数据从 excel - 2 剪切到 excel - 1

- 国内兼职要做的事情

  - 核心：保证 excel - 1 没有内容
  - 将数据从 excel - 1 剪切到 excel - 2

---

### 完成优化建议第三 ~ 九点

- user data monitor 支持 serior 权限

  - 【larkplayer-ops auth0 目前的权限问题】

    - 现有四级权限：（权限从低到高）

      - lp:distribute:do	

      - lp:distribute:distribute	

      - lp:distribute:audit	

      - lp:datamonitor

    - 需求

      ![image-20220823173921063](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20220823173921063.png)

    - 可能的需求变更（检验新权限架构能否 cover 住）
      - 新增第五权限，只有第五权限才能看
      - 第三权限也可以看
      - 中国和外国工作者都是第一级权限，但是需要区分这两种角色国籍

- auth0 userlist selector 减少无意义请求

  - 核心诉求：组件只会在页面加载时获取一次数据，之后不再获取
  - 问题：由于页面加载时，并没有加载 auth0 userlist selector ，导致无法触发获取数据事件，是否修改为：只请求一次用户列表，之后都使用第一次请求的数据？【是否是管理平台的架构缺陷？缺少一个全局 store】







---

### 【插入】andy 账号登录问题

- 原文

  ```
  about it, I can't login with my first login (andressa.goncalves@mobiuspace.com) because I don't remember the password and when I click to reset the password the Auth0 send the email for me in andressa.goncalves@mobiuspace.com, but I don't know how to login in this email [敲打] the only email that I have in the company is andressa.goncalves@dayuwuxian.com but I didn't receive the email from Auth0 to reset my password. Did you know how to solve it? It's important because I need to give access for the new freelancers today
  ```

  

---

## 2022.08.24 

### todo

- 开始完成评论爬取方案调研

---

### 开始完成评论爬取方案调研

- nest  使用

  - 如何在 nest 发 http 请求

  

## 2022.08.25

### todo

- 完成 logan 



## 2022.08.26

### todo 

- 优化管理后台
## 2020.05.11

- 需求: 定义类型, 值必须为 "get" | "post", 默认值为 get

    ```typescript
    interface Config{
      method: 'get' | 'post'
    }
    
    function useConfig(config: Config){
      let {method = 'get'} = config;
      console.log(method)
    }
    ```

- 利用 XMLHttpRequest 发送请求

- 搭建后端代码, 用于测试发送的请求

- 处理请求 url 参数

    - 写一个 isEmpty 函数
    
        ```typescript jsx
        function isEmpty(data) {
          let type = Object.prototype.toString.call(data);
      
          switch (type) {
            case '[object Object]':
              return Object.keys(data).length === 0;
            case '[object Array]':
              return data.length === 0;
            default:
              return !Boolean(data)
          }
        }
        ```
    - 写一个 bindUrl, 并且处理 params.value 为 string 的情况
        
    - 优化 bindUrl [代码](https://github.com/wojiaofengzhongzhuifeng/ts-axios/commit/919fbc59e455b9bccb4fdde2deeb0de13052c80b)
    
        如果根据条件不同导致字符串不同, 直接将字符串作为变量处理
        
    - 生成函数, 用于判断数据类型
        
    - 处理 params.value 为 array 的情况
    
        如果字符串是有条件的, 那么就把这个字符串设置成变量
        [核心代码](https://github.com/wojiaofengzhongzhuifeng/ts-axios/commit/4cbfdfee78179ae3501ff488fa3f2623ec2c7e9a#diff-80b16819a2a965d253677e9b9ff8eebcR28)
        
    
    
        
- 如何删除远程 remote

    `git remote remove origin`
    

## 2020.05.13

- 获取响应数据

    - 这个 type 是什么意思?
    
        ```typescript
        type AxiosResponsePromise = Promise<AxiosResponse>
        interface Xhr {
          (config: IAxiosConfig): AxiosResponsePromise
        }
        ```
        xhr 输出一个 promise, 并且 promise 的 resolve 的值的类型是 AxiosResponse
        
- 处理响应数据的 headers 

    - 在函数内部执行 return 的意义是什么?
    
        **不执行这个函数, 直接跳出**
            
        ```javascript
        function set(key){
          if(!key)return;
        
          console.log(key)
        }
        set();
        set(3424324312);
        ```
        
        ```javascript
        [1,2,3, ''].forEach((number)=>{
          if(!number)return;
          
          console.log(number)
        })
        ```
        
        
- 处理响应数据的 data

    这两段代码是一样的
    
    ```javascript
    let promise1 = () => {
      return new Promise((resolve) => {
        resolve(1)
      })
    };
    
    let promise2 = () => {
      return promise1().then((resolveNumber) => {
        // 在这里执行一些代码, 一般是对原 resolve data 进行一些操作
        return resolveNumber
      })
    };
    
    promise2().then((test2)=>{
      console.log('promise2', test2)
    });
    
    promise1().then((test1)=>{
      console.log('promise1', test1)
    })
    ```
  
    [应用](https://github.com/wojiaofengzhongzhuifeng/ts-axios/commit/d315fdd2b265f895308835e85464aac9ecf12732#diff-96bddab8ad85c07d3c8417ffa9ee7316R9)
    
- 请求数据中, 会发生错误, 常见的错误有

    - 网络异常
    
    - 超时错误
    
        - 如何模拟一个超时错误?
        
        如果不设置 timeout 或者设置 timeout 为 0, 表示不设置超时错误
        
        ```javascript
        const request = new XMLHttpRequest();
        
        // 如果 2s 还没有响应数据返回, 抛出错误
        request.timeout = 2000;
        request.ontimeout = function handleTimeout() {
          reject(new Error(`Timeout of ${2000} ms exceeded`))
        }
        ```
      
- 处理非 200 状态码

- 对错误信息增强, 原本的错误信息只有文本, 现在要包括其他数据

- 创建一个学生类, 这样创建一个学生

    重点查看 sex 属性和 schoolName 属性

    ```typescript
    interface StudentConfig extends PersonConfig{
      name: string,
      age: number,
      schoolName?: string,
      grade: string,
    }
    interface PersonConfig {
      sex?: string
      height: number
    }
    
    class Person {
      sex?: string;
      height: number;
      constructor(props: PersonConfig) {
        const { sex = '男', height } = props;
        this.height = height;
        this.sex = sex;
      }
    }
    
    class Student extends Person{
      name: string;
      age: number;
      schoolName: string;
      grade: string;
    
      constructor(props: StudentConfig) {
        const {name, age, grade, schoolName = '时代学校', height} = props;
    
        // 核心, 相当于执行 Person.constructor 构造函数, 为构造函数放入参数
        super({height});
    
        this.name = name;
        this.age = age;
        this.schoolName = schoolName;
        this.grade = grade;
      }
    }
    
    
    let s2 = new Student({
      name: '饶家俊',
      age: 18,
      grade: '初一',
      height: 180,
    });
    console.log(s2);
    ```
    
## 2020.05.12

- 英文翻译

    > The XMLHttpRequest method send() sends the request to the server. If the request is asynchronous (which is the default), this method returns as soon as the request is sent and the result is delivered using events. If the request is synchronous, this method doesn't return until the response has arrived.

    如果请求是异步的, 只要请求发送, 这个方法会继续往下执行(this methods returns), 并且响应结果通过事件机制进行获取.
    

## 2020.05.11

- 需求: 定义类型, 值必须为 "get" | "post", 默认值为 get

    ```typescript
    interface Config{
      method: 'get' | 'post'
    }
    
    function useConfig(config: Config){
      let {method = 'get'} = config;
      console.log(method)
    }
    ```

- 利用 XMLHttpRequest 发送请求

- 搭建后端代码, 用于测试发送的请求

- 处理请求 url 参数

    - 写一个 isEmpty 函数
    
        ```typescript jsx
        function isEmpty(data) {
          let type = Object.prototype.toString.call(data);
      
          switch (type) {
            case '[object Object]':
              return Object.keys(data).length === 0;
            case '[object Array]':
              return data.length === 0;
            default:
              return !Boolean(data)
          }
        }
        ```
    - 写一个 bindUrl, 并且处理 params.value 为 string 的情况
        
    - 优化 bindUrl [代码](https://github.com/wojiaofengzhongzhuifeng/ts-axios/commit/919fbc59e455b9bccb4fdde2deeb0de13052c80b)
    
        如果根据条件不同导致字符串不同, 直接将字符串作为变量处理
        
    - 生成函数, 用于判断数据类型
        
    - 处理 params.value 为 array 的情况
    
        如果字符串是有条件的, 那么就把这个字符串设置成变量
        [核心代码](https://github.com/wojiaofengzhongzhuifeng/ts-axios/commit/4cbfdfee78179ae3501ff488fa3f2623ec2c7e9a#diff-80b16819a2a965d253677e9b9ff8eebcR28)
        
    
    
        
- 如何删除远程 remote

    `git remote remove origin`
    
- js 中, encodeURI, encodeURIComponent 区别

    - encode 编码 === 将字符串转义 
    
    - encodeURIComponent: 将传入的所有 string 进行转义, 除了英文 + 数字
    
    - encodeURI: 将传入的部分 string 进行转义
      
- URI 与 URL 区别

    - URI: Uniform Resource Identifier (URI) is a string of characters used to identify a name or a resource on the Internet
    
        Uniform: 统一
        
    - URL: Uniform Resource Location 
    
    - URN: Uniform Resource Name
        
- more than likely  === 很有可能是

- reserved characters === 保留字, 如 let , function

- More specifically === 更具体一些

## 2020.05.09

- 组件间通信常见需求以及解决方法

    - 父传子数据
    
    - 子传父数据
    
        - 父传子一个函数1
        
        - 子在合适时机调用函数1, 并且把需要传递的数据带上
        
- 选择 swiper 时, 替换 canvas 渲染

    - 获取当前 swiper 图片的 url
    
- setData 如何修改深层 obj 的数据?

- 用户的图片是上传的

- 对 wx.request 方法进行封装

    - 抄袭 axios({}) 的调用方式 + 传入参数的统一处理 + 统一添加 loading + 统一进行错误处理 + 统一获取请求数据 +
    
- 如何将数据库内容进行迁移

    - 生成数据库数据文本文件
    
         mongodump -h 127.0.0.1:27017 -d yapi -o /Users/raojj/Desktop/yapi-database
         
- 为什么出现这个错误?

    `zsh: command not found: mongodb`, 我明明下载了这个东西了
    
    字打错了, 最好经常 tab
    
- 管理 npm 版本

    - 安装某个版本: npm install -g npm@6.4.1
    
    - 切换到某个版本
    
    
- 为什么这个 url 不正常了?

    http://bwx.apidoc.raojiajun.xyz/

- 我现在根本不适合学习 ruby on rails

    因为我前端代码写的都很糟糕, 如果现在去学, 没有意义,我现在最好学typescript + axios
    
- 元组 Tuple

    元组类型允许表示一个已知元素数量和类型的数组
    
    `let TestArray: [string, boolean]  = ['2', true]`
    
- 枚举 enum

    ```typescript jsx
    enum Color {Red, Green, Blue}
    let c: Color = Color.Green
    ```

- 类型断言 用 as

    ```typescript jsx
    let someValue: any = 'this is a string';
    let strLength: number = (someValue as string).length
    ```
- 需求: 只能是 get, post, put 字符串的其中之一

    ```
    type Method = 'GET' | 'POST' | 'PUT' | 'get' | 'post' | 'put'
    
    // methods 只能是 get, post, put 字符串其中之一
    let methods: Method = 'get';
    ```

- 完成 axios 函数输入参数的定义 
## 2020.05.08

- `mv ./api/* ../api` 与 `mv ./api ../api`区别是什么?

    前者移动 api 目录的**所有文件**
    
    后者移动 api **目录** 

- 如何查看端口号的服务? 比如说我想查看 3306 端口的使用什么服务  

    ps aux |grep mysql
    
    不会用

- 如何更改 brew 的 url??

    ```bash
    # 替换 Homebrew
    git -C "$(brew --repo)" remote set-url origin https://mirrors.ustc.edu.cn/brew.git
    
    # 替换 Homebrew Core
    git -C "$(brew --repo homebrew/core)" remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
    
    # 替换 Homebrew Cask
    git -C "$(brew --repo homebrew/cask)" remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git
    
    # 替换 Homebrew-bottles
    # 对于 bash 用户：
    echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' >> ~/.bash_profile
    source ~/.bash_profile
    # 对于 zsh 用户：
    echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' >> ~/.zshrc
    source ~/.zshrc
    
    # 测试是否正常
    brew config 
    ```


- 如何使用 brew 安装 mongodb
    
    无法通过 brew 安装
    
    https://superuser.com/questions/1478156/error-mongodb-unknown-version-mountain-lion


- 安装软件,为什么要添加二进制命令文件到 PATH?

- ubuntu 使用什么下载包进行下载?

    已知 mac 用 brew
    
    ubuntu 是 apt
    
- 改变文件夹权限

    sudo chown 用户名 文件名
   
- 为领导虚拟合照新增一个轮播图



## 2020.05.07

- 视频应该存在哪?

我现在存在 cos, 不过 CDN 更便宜

「COS 流量」与「CDN 」区别? 

https://cloud.tencent.com/act/pro/cos?from=11020
https://cloud.tencent.com/act/pro/CDN-?from=11851

- 如何上传一个图片, 下面是什么意思?

    > 图像数据，base64编码后进行urlencode，要求base64编码和urlencode后大小不超过4M。图片的base64编码是不包含图片头的，如(data:image/jpg;base64,)

    图片文件 -> 前端将图片文件转成 base64 -> 将 base64 通过接口发送到服务 -> 服务器返回新 base64 -> 后端(node)将 base64 保存为图片 
    
- 对示例文档自动化部署进行修复

    sudo gitbook install
    
    sudo gitbook build
    
- 前端流程

    - 进入 「领导虚拟合照界面」
    
    - 上传图片功能
    
        - 点击图片上传按钮, 用户可以上传一张图片, 前端将图片转成 base64
        
        - 将 base64 作为接口请求参数传递给后端, 后端返回新图片的url 地址
        
    - 领导图片选择
    
        - 在应用下方有一个比较小的轮播图
        
        - 用户选择一个领导, 然后上传自己图片
        
        - 用户可以拖动自己图片, 并且可以保存
    
- 图片

未处理用户
https://h5-1300777715.cos.ap-shenzhen-fsi.myqcloud.com/attractive-blonde-woman-taking-selfie-picture-of-herself-770x515.jpg

经过处理后用户
https://h5-1300777715.cos.ap-shenzhen-fsi.myqcloud.com/out.png

名人 1
https://h5-1300777715.cos.ap-shenzhen-fsi.myqcloud.com/jack-ma.jpg

名人 2
https://h5-1300777715.cos.ap-shenzhen-fsi.myqcloud.com/9ec68c98b48521f2222e01a8be98dfb7.jpg

- 如何导入别人写好的小程序

    项目 > 新建代码片段

- ruby :: 没有理解

    https://stackoverflow.com/questions/3009477/what-is-rubys-double-colon
    
    https://www.runoob.com/ruby/ruby-operator.html
    
- controller 映射 restful 地址,所以 controller 一般是复数

## 2020.05.06

- 两个 boolean 

    - 需求: 现有两个变量 isRoaming(正在漫游), isPaused(是否处于暂停状态), 所有情况:
    
        - isRoaming: true && isPaused: true => 执行f1函数
        
        - isRoaming: true && isPaused: false => 执行f2函数
        
        - isRoaming: false && isPaused: false/true => 执行f3函数
        
        ```javascript
        function execu(roam, pause){
          if(roam){
            if(pause){
              console.log('f1')
            } else {
              console.log('f2')
            }
          } else {
            console.log('f3');
          }
        }
        ```

- rails 变量名称

    - 需求: 需要完成注册功能
    
        - 前端接口名称为 `/sign_up`
        
        - models 目录下新建 `user.rb` 
        
            ```ruby
            class User < ActiveRecord::Base
            end
            ```
        
        - view 新建目录名为 `sign_up`文件         
        
        - controllers 目录下新建一个 `sign_up_controller.rb`
        
            ```ruby
            class SignUpController < ApplicationController
              def index
              end
            end
            ```
            
    - 总结
    
        - 路径, 文件, 目录都是下划线
        
        - model 是单数
        
- 需求: 命令行生成 user model
        
    `rails g model user`
    
- 需求: 如何定义 users 表字段

    - 在 `db/migrate` 目录下, 有表的字段定义
    
        ```ruby
        class CreateUsers < ActiveRecord::Migration[6.0]
          def change
            create_table :users do |t|
              t.string :username
              t.string :password
              t.timestamps null: false
            end
          end
        end
        ```
    - 命令行输入 `rake db:migrate`
    
- 需求: 使用「命令行 + orm 」代替 SQL 语句

    - `rails console`
    
    - 增删改查操作
    
        - 增
        
            `User.create username: "rjj", password: "123456"`
            
        - 查
        
            `user = User.find(1)`
            
        - 改
        
            ```
            user.username = 12321
            user.save
            ```
      
- 总结: 如何生成 model?

    - 生成 「创建表」所需代码: `rails g model user`
    
    - 定义表的字段: db/migrate 中定义表的字段
    
    - 运行表的字段: `rake db:migrate`
    
- 我要测试一个语言的语法, 如何通过命令行进入这个语言的环境?

    `irb`: Interactive ruby
    
- 如何定义一个函数 + 调用函数

    需求: 创建一个 say 函数, 如果传入了参数, 打印「 hello, 人名」;没有传入参数, 打印「hello, world」 

    ```ruby
    def say(name = 'world')
        puts "hello, #{name.capitalize}"
    end
    ```

    调用函数时, 如果不需要传入函数参数, 直接 name.capitalize, 如果是 js, 需要 `name.capitalize()`

- 如何定义一个对象

    需求: 创建一个 Greet 对象, 他接受一个参数(人名), 拥有两个方法, say_hi, say_bye

- 完成脚本, 创建多条关系型数据

    - 为 students 新增 800 条数据
    
    - 为 classes 新增 800 条数据
    
    
    
    
    
        

        
        


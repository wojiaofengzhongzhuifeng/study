## W42 todo 

- 内部总结



## 2022.10.17 周一

### 本 Q 任务总结

主要做了两方面的事情：

- 后台管理平台开发
- 评论爬取功能调研

### 每周任务的总结

- W31（08.01 ~ 08.05）：这周是 Q3 结束 + Q4 开始，所以没做什么事情
  - 完成前端页面数据统计 ½
  - 完成第一版歌词爬取实施文档
- W32（08.08 ~ 08.12）：
  - 完成成用户维度 + 数据维度数据统计
  - 整理 fb 登录流程
- W33 （08.15 ~ 08.19）:
  - 处理「无法制作」情况
  - 制作曲库工作流程视频，开始接入国内供应商
  - 爬取评论实施文档
  - 处理西语区三个站点接入 WP 正在完成
  - 辅助 chenqiang 解决 logan 上传媒体文件失败的问题
- W34（08.22 ~ 08.26）：
  - 任务维度制作成功数量展示（🔴 本来应该后端计算，前端展示就行，但是由于后端没有时间，前端使用很不好的方式完成了需求，造成了数据不准确的问题，这个需求不应该前端做）
  - 爬取评论技术实施文档
  - 解决客户端上传大文件出错问题  已上线  [链接](https://docs.google.com/document/d/1I0nz8ZF5NFCRKgXX4bpUqdTTZNEWeyk1KZfQcnDLYT8/edit#heading=h.r7hsqbfcwhf4)
  - 
- W35 （08.29 ~ 09.02）
  - 完成审核拒绝流程
  - 上线包时长数据的展示与过滤
  - 审核按键反馈
  - 理清无法制作的情况（🔴 按道理，应该在 W33 的时候，将不可制作的流程想清楚，不应该 W34 又发现还有其他流程问题，导致 W34 还在处理）
  - 处理andy 提出高优先级需求（🔴 未记录具体做了什么事情）
  - 在实施爬取调研结果？？
  - 解决国内兼职与 console 计算的歌词制作数量不一致问题完成，原因是国内兼职错误操作
- W36（09.05 ~ 09.09）
  - 完成 meta 任务优化操作：直接在 table 粘贴 spotify 数据，不需要打开 modal 粘贴 spotify 数据
  - 开发两个版本的 youtube 爬取字幕对比工具 [第一个版本](https://lyric-marker.larkplayer.com/versionDiff?lyricSpiderRecordId=1505201) [第二个版本](https://lyric-marker.larkplayer.com/v2VersionDiff?lyricSpiderRecordId=1505181), 用于对比人工制作的动态歌词与 youtube 自动生成歌词 已完成 
  - 完成爬取歌曲评论流程，未实现大规模的评论爬取能力
- W37（09.12 ~ 09.16）
  - 数据看板
    - 任务维度 meta、歌词、标签 增加制作成功和审核通过总数
    - 用户维度补充 meta 不可制作总数
  - 处理后台管理需求
    - 允许从包内删除状态不为 PENDING 的任务
    - 允许从包内批量删除任务
    - 批量将包 1 的任务转移到包 2 
    - 去除包查询时长限制
    - 歌词制作工具，特定账号可以标记任务为”mark lyric can not be done”，而不仅仅是审核人才可以标记
  - 输出歌曲爬取评论的结果
- W38 （09.19 ~ 09.23）
  - 后台管理需求
    - 告知 andy 如何使用用户维度和任务维度数据看板（andy 需要使用这两个页面，对兼职人员的工作量进行统计）
    - 通过新增两个页面，解决数据看板数据不一致问题，通过这个页面，可以查看用户数据看板中，制作 + 审核成功的具体 youtubeId，andy 可以与 [人工记录任务](https://docs.google.com/spreadsheets/d/1yVHl04yS9WbPxLNuBqksUoqfe8UQR_6dZZzqF79lm3k/edit#gid=1462961) 比较，得到具体 youtubeId ，检查问题原因（🔴 不应该做这个页面，这个页面是前端通过特定的请求得到的，最终结果与数据库不太一致）
    - 提交歌词之前，检查每行歌词是否小于54 字符
    - 制作工具提交完成后，不跳转
    - Console 对包内的任务进行过滤，过滤掉审核人修改过的任务（这个版本的功能并不符合 andy 的要求）
    - 完成歌词反馈的 [excel](https://docs.google.com/spreadsheets/d/1apqsWHZ4EPX70JhnggD_vgZOz7gvcGKooYFCsBvpGa0/edit#gid=1096047439) 已完成（🔴 由于数据量大，导致处理了 2 天才完成）
- W39（09.26 ~ 09.30）
  - 后台管理
    - 找到 console 与人工记录数据不一致的问题（已经解决，但是现在回想，这个事情真的有必要花这么多的事情去处理吗，或者说，即使不处理这个事情，会有什么大的影响么？答案是不会）
    - 完善歌词不可制作和纯音乐的标记、审核、数据统计、分发流程
    - 增加删除空包的功能
    - Lyric batch-management 组件，优化 drawer 的弹出逻辑，允许用户自由控制drawer 组件
    - Meta 包内审核页面，已经通过审核，放到最顶部
    - Meta 包内审核页面，在审核阶段，可以标记 meta 为 not found
    - Lyric batch management 允许多条 youtube 搜索
    - 如果一个包内的所有歌词任务被标记 mark as done，那么这个包自动被标记 mark as done
    - Console 新增爬取来源、分发来源的查询与数据展示
    - 歌词制作 + 审核页面；通过高亮区分「已经被审核人二次修改」与「未被审核人二次修改」
- W41 （10.08 ~ 10.14）🔴 todo
  - 后台管理	
    - 整理曲库工作流程
      - 特殊歌词任务，
      - 

### 问题

- H2 是不是只剩Q5 了？

  是

- H 2 的OKR 是什么？

  - 通过引入国内供应商降本提效，生产 BR Top 5w / PV 60.10% + ES Top 2w / PV 40.46% + MENA Top 3k / PV 22.96% + ROW Top 1k / PV 4.16%。

- Q4 的制作情况是什么？

  - 计划

    KR1：海外兼职团队完成 BR Top 2.5w + MENA Top 1k + ROW Top 500，引入国内供应商完成 ES Top 1w

  - 实际？

    - 

- H2 的人工生产策略

  - 国内兼职扩展制作区，从 es => BR、MENA、ROW
  - 国内兼职扩量
    -  BR Top 2.5w => BR Top 5w
    -  ES Top 1w  => ES Top 2w
    - MENA Top 1k => MENA Top 3k
    - ROW Top 500 => ROW Top 1k

  - 专人专职，
  - 日志记录
  - 

  

要达成的目标 & 关键结果

1. 生产策略 & 生产工具

	1. 将  ES TOP 1w 歌词任务从外国兼职转移到国内供应商
	2. 搭建工作结果数据看板
	
	
	
	

### 制作过程中的特殊情况及解决方法

制作人

- 特殊歌曲
  - 无法制作 => 当成正常的歌曲完成
  - 纯音乐 => 当成正常的歌曲完成
- 机器 + 人工无法找到歌词 => 按照身份（国内兼供应商or 国外兼职）标记，如果国内的话，从包中删除
- 歌曲语言与 TOP 区域不一致（如 es 区域，返回了韩国的歌曲） => 由国内管理员，将此任务从包中删除？

审核人

- 特殊歌曲
  - 无法制作 => 审核人确认是无法制作后，标记这首歌为无法制作，不删除
  - 纯音乐 => 审核人确认是纯音乐后，标记这首歌为纯音乐，不删除
- 机器 + 人工无法找到歌词 => 无
- 歌曲语言与 TOP 区域不一致（如 es 区域，返回了韩国的歌曲） => 



---


## 2022.10.18 周二

### 完成两个文档，等待确认流程是否完全没有问题

由于后续两方存在大量协作需求，并且当前的协作存在一些问题，因此写了这两个文档

Special lyric task workflow
https://docs.google.com/document/d/10guMHaVeKYaU3BSEuXyumccz32WbzYGXjuzsRG3Epao/edit#

Local & CN group workflow
https://docs.google.com/document/d/10guMHaVeKYaU3BSEuXyumccz32WbzYGXjuzsRG3Epao/edit#heading=h.b0mke4f0tn8c       

---

### 项目接入 cypress

假设项目使用 docker 启动，相当于在 docker 中，安装 cypress 所需依赖，在 cypress 另外一个端口启动该临时项目，然后使用 cypress 测试，测试完毕后，中断临时项目，继续执行原发布逻辑

---

### 2022.10.19 周三

### 长尾效应 高 ROI 

---

### 处理 

---

### 曲库计划

- 由于 BR 区域扩量（TOP 量）对 PV 影响不明显，因此需要观测 TOP 25K 是否已经到达拐点，目前暂时不对 BR 区域做扩量

---

### Q4 总结

- 在总结周，发现没有数据支撑，为什么会这样，因为做的事情（后台系统）本身没有的，后台系统更加注重与流程梳理，因此没有数据支撑是正常的
- 为什么感觉这三个月没做多少事情？
  - 实际的工作时间为：08.01 ~ 10.14，主要完成数据看板、后台优化、特殊任务处理。
  - 很多时间用于沟通、分析需求、协助后端检查数据问题
  - 还有部分为了解决 andy 的需求，在没有后端接口的情况下，尝试在前端层面临时解决，当然，这些临时解决方案最终都被废弃了，这也浪费了很多时间
  - 还有就是工作方式的问题，在前期，mana 想让我「先有 demo ，然后才讨论修改」，这样的话会导致很多无用功

---

## 2022.10.20 周四

### 解决 console 平台打印函数对不上问题 +开发环境取消 auth0 

---

### 后台管理系统模板 hack day 

- 环境切换
- 全局数据共享
- 模块动态加载
- 请求封装
- mock 数据
- 代码格式化
- cicd 单元测试 + e2e 测试

---

### 老官网接入 e2e 测试 todo 

- 测试脚本请求 docker 本地的代码

---



## 2022.10.21 周五

### hackday

- 列表
- 新增、修改
- 详情
- 数据看板

---

### 老官网接入自动化测试流程

---



## 2022.10.23 周日

### https 非对称加密核心

可以使用私钥，解密「公钥生成的密文」

---

### 区块链的数据结构

链表，链表的指针是 hash值，而该 hash 值是「前一个链表内容 + 前一个链表的 hash 值」hash 得到的

区块链就是 hash 链表，环环相扣，因此节点只需要保存部分

---

### 


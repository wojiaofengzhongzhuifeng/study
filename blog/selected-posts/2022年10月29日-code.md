# 典型类型编码题

**1、一维数组转树结构，根据id和pid的关系，将一维数组转换成树结构**

```javascript
// 注：list 是乱序的，不一定是按 id 有序排列
var list = [
  {id: 1, name: '根元素', pid: null},
  {id: 2, name: '子元素2', pid: 1},
  {id: 3, name: '子元素3', pid: 2}, 
  {id: 4, name: '子元素4', pid: 2},
  {id: 5, name: '子元素5', pid: 1}, 
  {id: 6, name: '子元素6', pid: 3},
  {id: 7, name: '子元素7', pid: 2}, 
]


function getTree(list) {
  
}
```

**2、Promise 限制并发：写一个类MyQueue，包含add方法，给后台发送请求（调用fetch即可），限制同一时刻最多3个请求。（不考虑发送失败的情况）**

```javascript
class MyQueue{

}

// 如下 调用举例
let myQueue = new MyQueue(); 
for (let i = 0; i < 100000; i++) { 
  myQueue.add(url).then(() => { 
    console.log(`消息${i}发送成功`)
  })
}
```

**3、有 N 个 url，要求完成getDatas方法，实现 Promise 的串行调用，即通过fetch串行执行url的请求，前一个url返回结果后，后面的才能发出去（不允许用 async和 await 关键词）**

```javascript
function getDatas(urls) {
  // fetch(url)
}
```
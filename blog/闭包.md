# 闭包



## 最简单的闭包例子

声明一个变量，声明一个函数

```javascript
var test = "test";
function test1(){
	console.log(test);
}
```

将代码放到一个函数中，在这个函数中将函数 test1 返回

```javascript
function x(){
  var test = "test";
  return function test1(){
  	console.log(test);
  }
}

// 执行 test1 函数
x()();
```

**test 变量 + test1 函数 === 闭包**

## 闭包作用

**暴露一个访问器（函数），让别人通过访问器「间接访问」重要变量。**

在这里，访问器 === test1 函数，重要变量 === test。

函数 x 只是为了①构建出一个局部作用域，②并且让别人能使用访问器函数，与闭包无关。





## 立即执行函数是什么

```javascript
// 1. 声明匿名函数
// 2. 立即调用
(function(a){
  var b = "test"
  console.log(a);
  console.log(b);
})("bbbbb")
console.log(b); // 报错
```

## 立即执行函数有什么用

**创造一个局部作用域**

之前：https://jsbin.com/jahiyomihi/1/edit?html,js,console,output

之后：https://jsbin.com/hopefovowi/1/edit?html,js,console,output
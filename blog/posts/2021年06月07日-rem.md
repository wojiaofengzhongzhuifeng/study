# 适配大屏展示方案-动态 REM

## 概述

本文通过 demo 代码 + 图像的方式，讲解了大屏适配的其中一种解决方案。

## 实现过程

### 背景

目前已知的数据：

1. 设计稿，
   1. 设计稿尺寸（16:9，设计稿宽度可能是 1920、2420 或者其他）
   2. 内部元素在设计稿的尺寸（大小、margin、padding、top、left）
2. 大屏页面尺寸（通过 DOM api 获取）

### 步骤

1. 获取「设计稿在大屏的实际页面尺寸（宽度、高度）」

   下图中蓝色区块是页面、灰色区域是用户大屏。

   由此可见：

   1. 情况 1 、 情况 3（大屏页面宽度 / 大屏页面高度 === 16 / 9）

      设计稿在大屏的实际页面宽度 === 大屏页面宽度

      设计稿在大屏的实际页面高度 === 大屏页面高度

   2. 情况 2（大屏页面宽度 / 大屏页面高度 < 16 / 9）

      设计稿在大屏的实际页面宽度 === 大屏页面宽度

      设计稿在大屏的实际页面高度 === 大屏页面宽度 * (9 / 16)

   3. 情况 4（大屏页面宽度 / 大屏页面高度 > 16 / 9）

      设计稿在大屏的实际页面高度 === 大屏页面高度

      设计稿在大屏的实际页面宽度 === 大屏页面高度 * （16 / 9）

   ![image-20210607182518433](https://raw.githubusercontent.com/wojiaofengzhongzhuifeng/iamge-host-2/master/image-20210607182518433.png)

   

2. 设置当前 rem

   人为使用 js 设置 rem  

   rem === 设计稿在大屏的实际页面宽度 / 100

3. 定义 css 函数，该函数输入「内部元素在设计稿的尺寸 px」，输出 rem

   ```
   因为
   设计稿中元素长度 / 设计稿宽度 = 大屏中元素长度 / 设计稿在大屏的实际页面宽度
   所以
   大屏中元素长度 = （设计稿中元素长度 * 设计稿在大屏的实际页面宽度） / 设计稿宽度
   
   又因为
   设计稿在大屏的实际页面宽度 = 100 * rem
   所以
   大屏中元素长度 = （设计稿中元素长度 * 100 * rem ） /  设计稿宽度
   ```

   

### 感悟点

1. 为什么需要 rem？

   rem 用于沟通 js 与 css 的桥梁

   `大屏中元素长度 = （设计稿中元素长度 * 设计稿在大屏的实际页面宽度） / 设计稿宽度` 

   在这个公式中

   `设计稿中元素长度`数据不变

   `设计稿在大屏的实际页面宽度`数据会随着页面大小改变而改变，也就是**动态**的源头

   `设计稿宽度`数据不变

   因为 `设计稿在大屏的实际页面宽度`会一直发生变化，所以不能在 css 中直接写死某个数据，动态的数据需要通过 js 动态获取，并且通过 REM 这个工具将动态的数据从 **js传递给 css**

## 总结

本文使用图示的方法介绍了大屏 or 移动端适配的其中一种方案-动态 rem 

## 更改记录

- 2021年06月07日23:44:25 完成初版

## todo

- 没有示例代码i


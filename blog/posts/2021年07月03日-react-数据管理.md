# react 数据管理最佳实践（之一）





## 概述

本文使用代码 + 文字的方式介绍 react 数据管理的其中一种方法。

本实践使用的库是：redux、react-redux、redux-saga、reduxjs/tookit

## 如何创建数据管理框架



## 数据进行增删改查

### 步骤

- 定义 data， 使用 data

- 修改 data

  - 同步修改

    定义 reducer

    合适时机 dispatch(action) ，修改 data

  - 异步修改

    定义 reducer

    定义 saga，在 saga 处 dispatch 修改 data

    合适时机 dispatch 

- 监听 data ，执行事情



### 小需求

- setCount
- count 变化了，请求接口数据





### redux 核心概念

- reducer

  A reducer's function signature is: (state, action) => newState

- action
  对象，告诉全局状态修改什么数据，以及新数据是什么，并且 action 的数据结构已经确定

  ```
  action = {
  	type: 'ADD_COUNT', // 更改数据的方式
  	payload: 1  // 新数据
  }
  ```

- dispatch

  函数，输入 action，在函数内部结合 action 与 reducer，返回出一个新的 state

- store

  使用 reducer 函数生成的数据，保存应用的所有数据

- state 

  某个时间的 store 的数据快照

- state 

  

### react-redux 核心概念

- connect
  高阶组件， 输入 react 组件1，输出 react 组件2，组件 2 拥有全局状态
  将普通组件与全局状态连接起来

- mapStateToProps

  函数，将全局 state 某些数据传给组件

- mapDispatcherToProps
  函数，输入 dispatch 函数，输出函数，该函数可以运行 dispatch(action)

- connect(mapStateToProps, mapDispatchToProps)(普通组件) 的理解

- createStore(reducer, initState)

  用于创建全局状态
  





### @redux/toolkit 核心概念

- createSlice
- 





## 如何调试

